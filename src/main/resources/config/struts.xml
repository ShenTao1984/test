<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

	<constant value="false" name="struts.enable.DynamicMethodInvocation" />
	<constant value="true" name="struts.devMode" />

	<!-- 将action托管给spring -->
	<constant name="struts.objectFactory" value="spring" />
	<package name="default" extends="struts-default" namespace="/">
		<default-action-ref name="index" />
		<global-results>
			<result name="error">/error.jsp</result>
		</global-results>
		
		<global-exception-mappings>
			<exception-mapping result="error" exception="java.lang.Exception" />
		</global-exception-mappings>
	</package>


	<!-- Root webapp -->
	<include file="com/xinfang/web/eat/modules/*/resource/*.struts.xml" />
	
	<!-- <include file="com/xinfang/web/eat/modules/login/resource/login.struts.xml" /> -->


<package name="login" extends="staff" namespace="/security">

		<default-class-ref class="com.xinfang.web.eat.modules.login.action.LoginAction" />

		<!-- Login 初期画面 -->
		<action name="login" method="login">
			<result name="success" type="tiles">staff.login</result>
			<result name="input" type="tiles">staff.login</result>
			<result name="redirect-to-top" type="redirectAction">
				<param name="namespace">/top</param>
				<param name="actionName">home</param>
			</result>
		</action>

		<action name="logout" method="logout">
			<result name="success" type="redirectAction">
				<param name="namespace">/security</param>
				<param name="actionName">login</param>
			</result>
		</action>

	</package>
</struts>

